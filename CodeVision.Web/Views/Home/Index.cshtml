@using CodeVision.Web.ViewModels
@model CodeVision.Web.ViewModels.SearchResult

@{
    ViewBag.Title = "Home";
}

<style>
    input.big-input {
        width: 500px;
    }
</style>


<div class="container">
    @using (Html.BeginForm("Search", "Home", FormMethod.Post, new {@class="form-inline"}))
    {
        @Html.TextBox("searchExpression", null, new {@class="big-input"})
        <button type="submit" class="btn btn-primary">Search</button>
    }  
    
    
    @if (Model.Hits.Count > 0)
    {
        <div>Total hits:@Model.Hits.Count</div>
    }

    @foreach (SearchHit hit in Model.Hits)
    {
        <p>
            <div>
                @Html.ActionLink(hit.FriendlyFileName, "Details", "Content", new {hit = @hit.ToString()}, null)
            </div>
            <div>@Html.Raw(hit.BestFragment)</div>
        </p>
    }
</div>